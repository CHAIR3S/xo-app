<ion-content class="h-screen relative">
  
  @if (user) {
    <app-image-header [image64]="user ? user.profilePicture : null" class="text-white" style="z-index: 100;" [imageType]="user.imageFormat"

    >

      @if (metrics) {

        <div
      class="absolute bottom-16 w-full flex justify-around items-center text-white text-center"
        >
          <div>
            <h2 class="text-lg font-bold">{{metrics.attendees}}</h2>
            <p class="text-xs text-gray-300">Asistentes</p>
          </div>
          <div>
            <h2 class="text-lg font-bold">{{metrics.events}}</h2>
            <p class="text-xs text-gray-300">Eventos</p>
          </div>
          <div>
            <h2 class="text-lg font-bold">{{metrics.pictures}}</h2>
            <p class="text-xs text-gray-300">Fotos</p>
          </div>
        </div>
        
      }

    </app-image-header>

    <!-- Información del Usuario -->
    <div
      class="px-4 py-4 flex justify-between items-center"
      style="
        border-top-left-radius: 2rem;
        border-top-right-radius: 2rem;
        margin-top: -3rem;
        position: relative;
        z-index: 10;
        color: var(--font-black);
      "
      [ngStyle]="{
        backgroundColor: 'var(--background)'
      }"
    >
      <div>
        <h1 class="text-lg font-bold">{{user.name}}</h1>
        <p class="text-xs text-gray-400">{{'@' + user.username}}</p>
        <!-- <p class="text-xs text-gray-400">Celaya, México</p> -->
      </div>

      @if (user.role.name === 'CREATOR' ) {  
        <div
          class="bg-primary text-white rounded-full p-2 flex items-center justify-center"
          style="width: 40px; height: 40px;"
        >
          <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#1b9de2" ><path d="m344-60-76-128-144-32 14-148-98-112 98-112-14-148 144-32 76-128 136 58 136-58 76 128 144 32-14 148 98 112-98 112 14 148-144 32-76 128-136-58-136 58Zm34-102 102-44 104 44 56-96 110-26-10-112 74-84-74-86 10-112-110-24-58-96-102 44-104-44-56 96-110 24 10 112-74 86 74 84-10 114 110 24 58 96Zm102-318Zm-42 142 226-226-56-58-170 170-86-84-56 56 142 142Z"
            /></svg>
        </div>
      }

    </div>

    <!-- Tabs -->
    <div 
    [ngStyle]="{
      backgroundColor: 'var(--background)'
    }">
      <div class="flex">
        <button
          class="flex-1 py-2 text-center font-semibold transition-all duration-300"
          (click)="future()"
          [ngClass]="(type == 'future') ? 'rounded-sm text-white' : 'text-gray-400'"
          [style]="(type === 'future') ? 'background-color: var(--primary); border: 1px solid gray; border-left: 0px;'
          : 'border: 1px solid gray; border-right: 0px;'"
        >
          Próximamente
        </button>
        <button class="flex-1 py-2 text-center font-semibold transition-all duration-300"
          (click)="past()"
          [ngClass]="(type == 'past') ? 'rounded-sm text-white' : 'text-gray-400'"
          [style]="(type === 'past') ? 'background-color: var(--primary); border: 1px solid gray; border-left: 0px;'
          : 'border: 1px solid gray; border-right: 0px;'"
        >
          Anteriores
        </button>
      </div>
    </div>

    <!-- Eventos -->
    <div class="px-4 mt-4 flex flex-col gap-3 w-full"
    [ngStyle]="{
      backgroundColor: 'var(--background)'
    }"
    >

    <app-soon-event [user]="user" [type]="type" [actionEvent]="typeEvent"/>


    </div>
  }

  @if (!user) {
    <section class="w-screen h-[84%] flex justify-center items-center">
      <ion-spinner class="text-color-primary h-[10vw] w-[10vw]"></ion-spinner>
    </section>
  }
  
  <div class="min-h-[13%]"></div>

</ion-content>
